<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <title>WebChess Pro ‚Äì Full-Featured Chess Web Application</title>
    <meta
      name="description"
      content="WebChess Pro is a fully functional browser-based chess platform. Play vs AI, analyze games, solve puzzles, use time controls, import/export PGN &amp; FEN."
    />
    <!-- iOS Web App Meta -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="WebChess Pro" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="theme-color" content="#0f1117" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles/style.css" />
    <link rel="stylesheet" href="styles/themes.css" />
  </head>
  <body
    class="theme-dark board-theme-classic piece-theme-standard"
    id="app-body"
  >
    <!-- ===== HEADER ===== -->
    <header class="app-header" role="banner">
      <div class="header-logo">
        <span class="logo-icon">‚ôü</span>
        <span class="logo-text"
          >WebChess <span class="logo-pro">Pro</span></span
        >
      </div>
      <nav class="header-nav" role="navigation" aria-label="Main navigation">
        <button
          id="btn-mode-pvp"
          class="nav-btn active"
          title="Player vs Player"
        >
          ‚öî PvP
        </button>
        <button id="btn-mode-pvai" class="nav-btn" title="Play vs AI">
          ü§ñ vs AI
        </button>
        <button id="btn-mode-puzzle" class="nav-btn" title="Puzzle Mode">
          üß© Puzzles
        </button>
        <button id="btn-mode-analysis" class="nav-btn" title="Analysis Mode">
          üîç Analysis
        </button>
      </nav>
      <div class="header-actions">
        <button id="btn-stats" class="icon-btn" title="Statistics">üìä</button>
        <button id="btn-settings" class="icon-btn" title="Settings">‚öô</button>
        <button
          id="btn-sound"
          class="icon-btn active"
          title="Toggle Sound"
        >
          üîä
        </button>
        <button id="btn-mobile-menu" class="icon-btn mobile-menu-btn" title="Menu" aria-label="Open navigation menu" aria-expanded="false">
          ‚ò∞
        </button>
      </div>
    </header>

    <!-- Mobile Nav Overlay -->
    <div class="mobile-nav-overlay" id="mobile-nav-overlay" aria-hidden="true">
      <div class="mobile-nav-panel">
        <div class="mobile-nav-header">
          <span class="mobile-nav-title">‚ôü WebChess <span class="logo-pro">Pro</span></span>
          <button class="mobile-nav-close" id="btn-mobile-nav-close" aria-label="Close menu">‚úï</button>
        </div>
        <nav class="mobile-nav-links">
          <button id="mob-btn-mode-pvp" class="mob-nav-btn active" data-mode="pvp">‚öî Player vs Player</button>
          <button id="mob-btn-mode-pvai" class="mob-nav-btn" data-mode="pvai">ü§ñ vs AI</button>
          <button id="mob-btn-mode-puzzle" class="mob-nav-btn" data-mode="puzzle">üß© Puzzles</button>
          <button id="mob-btn-mode-analysis" class="mob-nav-btn" data-mode="analysis">üîç Analysis</button>
        </nav>
        <div class="mobile-nav-actions">
          <button id="mob-btn-new-game" class="mob-action-btn primary">‚ôü New Game</button>
          <button id="mob-btn-stats" class="mob-action-btn">üìä Statistics</button>
          <button id="mob-btn-settings" class="mob-action-btn">‚öô Settings</button>
        </div>
      </div>
    </div>

    <!-- ===== MAIN LAYOUT ===== -->
    <main class="app-main" role="main">
      <!-- LEFT PANEL -->
      <aside class="panel panel-left" aria-label="Player info and controls">
        <!-- Black Player Info -->
        <div class="player-card player-black" id="player-black-card">
          <div class="player-avatar">‚ôõ</div>
          <div class="player-info">
            <div class="player-name" id="player-black-name">Black</div>
            <div class="player-elo" id="player-black-elo">1500</div>
          </div>
          <div class="player-timer" id="timer-black" aria-label="Black timer">
            <span id="timer-black-display">10:00</span>
          </div>
        </div>

        <!-- Captured Pieces (captured by White) -->
        <div class="captured-section" id="captured-by-white">
          <div class="captured-label">Captured</div>
          <div class="captured-pieces" id="captured-black-pieces"></div>
          <div class="material-advantage" id="material-black"></div>
        </div>

        <!-- Game Controls -->
        <div class="controls-section">
          <div class="controls-grid">
            <button id="btn-new-game" class="ctrl-btn primary">New Game</button>
            <button id="btn-resign" class="ctrl-btn danger">Resign</button>
            <button id="btn-draw" class="ctrl-btn">Draw</button>
            <button id="btn-undo" class="ctrl-btn">‚üµ Undo</button>
            <button id="btn-flip-board" class="ctrl-btn">‚Üï Flip</button>
            <button id="btn-hint" class="ctrl-btn">üí° Hint</button>
          </div>
        </div>

        <!-- Captured Pieces (captured by Black) -->
        <div class="captured-section" id="captured-by-black">
          <div class="captured-label">Captured</div>
          <div class="captured-pieces" id="captured-white-pieces"></div>
          <div class="material-advantage" id="material-white"></div>
        </div>

        <!-- White Player Info -->
        <div class="player-card player-white" id="player-white-card">
          <div class="player-avatar">‚ôî</div>
          <div class="player-info">
            <div class="player-name" id="player-white-name">White</div>
            <div class="player-elo" id="player-white-elo">1500</div>
          </div>
          <div class="player-timer" id="timer-white" aria-label="White timer">
            <span id="timer-white-display">10:00</span>
          </div>
        </div>
      </aside>

      <!-- CENTER: BOARD -->
      <section class="board-section" aria-label="Chess board">
        <!-- Mobile: Black Player Strip (shown only on mobile) -->
        <div class="mobile-player-strip mobile-player-top" id="mobile-black-strip">
          <div class="mob-player-avatar">‚ôõ</div>
          <div class="mob-player-info">
            <div class="mob-player-name" id="mob-player-black-name">Black</div>
            <div class="mob-captured" id="mob-captured-black"></div>
          </div>
          <div class="mob-player-timer" id="mob-timer-black">
            <span id="mob-timer-black-display">10:00</span>
          </div>
        </div>

        <!-- Status Bar -->
        <div
          class="status-bar"
          id="status-bar"
          role="status"
          aria-live="polite"
        >
          <span id="status-text">White's turn</span>
          <span class="eval-bar-container">
            <span class="eval-label" id="eval-label">0.0</span>
            <span class="eval-bar-wrap">
              <span class="eval-bar" id="eval-bar"></span>
            </span>
          </span>
        </div>

        <!-- Chess Board -->
        <div class="board-wrapper" id="board-wrapper">
          <div
            class="board-coordinates board-coords-rank"
            id="coords-rank"
          ></div>
          <div
            class="board-coordinates board-coords-file"
            id="coords-file"
          ></div>
          <div
            class="chessboard"
            id="chessboard"
            role="grid"
            aria-label="Chess board"
            tabindex="0"
          ></div>
        </div>

        <!-- Mobile: White Player Strip (shown only on mobile) -->
        <div class="mobile-player-strip mobile-player-bottom" id="mobile-white-strip">
          <div class="mob-player-avatar">‚ôî</div>
          <div class="mob-player-info">
            <div class="mob-player-name" id="mob-player-white-name">White</div>
            <div class="mob-captured" id="mob-captured-white"></div>
          </div>
          <div class="mob-player-timer" id="mob-timer-white">
            <span id="mob-timer-white-display">10:00</span>
          </div>
        </div>

        <!-- Mobile Quick Controls -->
        <div class="mobile-quick-controls" id="mobile-quick-controls">
          <button id="mob-btn-new-game-quick" class="mob-ctrl-btn primary" title="New Game">‚ôü New</button>
          <button id="mob-btn-undo" class="mob-ctrl-btn" title="Undo">‚üµ</button>
          <button id="mob-btn-flip" class="mob-ctrl-btn" title="Flip Board">‚Üï</button>
          <button id="mob-btn-hint-quick" class="mob-ctrl-btn" title="Hint">üí°</button>
          <button id="mob-btn-resign" class="mob-ctrl-btn danger" title="Resign">üè≥</button>
        </div>

        <!-- Replay Controls (Analysis Mode) -->
        <div class="replay-controls" id="replay-controls" style="display: none">
          <button id="btn-goto-start" class="replay-btn" title="Go to start">
            ‚èÆ
          </button>
          <button id="btn-prev-move" class="replay-btn" title="Previous move">
            ‚óÄ
          </button>
          <button id="btn-next-move" class="replay-btn" title="Next move">
            ‚ñ∂
          </button>
          <button id="btn-goto-end" class="replay-btn" title="Go to end">
            ‚è≠
          </button>
          <button id="btn-autoplay" class="replay-btn" title="Autoplay">
            ‚ñ∂‚ñ∂
          </button>
        </div>
      </section>

      <!-- RIGHT PANEL -->
      <aside class="panel panel-right" aria-label="Move history and tools">
        <!-- Tabs -->
        <div class="panel-tabs" role="tablist">
          <button
            class="tab-btn active"
            data-tab="moves"
            role="tab"
            aria-selected="true"
          >
            Moves
          </button>
          <button class="tab-btn" data-tab="pgn" role="tab">PGN</button>
          <button class="tab-btn" data-tab="fen" role="tab">FEN</button>
          <button class="tab-btn" data-tab="puzzles" role="tab">Puzzles</button>
        </div>

        <!-- Tab Content: Moves -->
        <div class="tab-content active" id="tab-moves" role="tabpanel">
          <div class="move-list" id="move-list" aria-label="Move history"></div>
        </div>

        <!-- Tab Content: PGN -->
        <div class="tab-content" id="tab-pgn" role="tabpanel">
          <div class="pgn-section">
            <label class="section-label" for="pgn-textarea">PGN</label>
            <textarea
              id="pgn-textarea"
              class="code-textarea"
              placeholder="Paste PGN here to import..."
              spellcheck="false"
              rows="10"
            ></textarea>
            <div class="section-actions">
              <button id="btn-pgn-import" class="tool-btn">Import PGN</button>
              <button id="btn-pgn-export" class="tool-btn primary">
                Export PGN
              </button>
            </div>
          </div>
        </div>

        <!-- Tab Content: FEN -->
        <div class="tab-content" id="tab-fen" role="tabpanel">
          <div class="fen-section">
            <label class="section-label" for="fen-input">FEN String</label>
            <input
              id="fen-input"
              class="code-input"
              type="text"
              placeholder="Paste FEN to import..."
              spellcheck="false"
            />
            <div class="section-actions">
              <button id="btn-fen-import" class="tool-btn">Import FEN</button>
              <button id="btn-fen-export" class="tool-btn primary">
                Copy FEN
              </button>
            </div>
            <div class="fen-presets">
              <div class="section-label">Presets</div>
              <button
                class="preset-btn"
                data-fen="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1"
              >
                Start Position
              </button>
              <button
                class="preset-btn"
                data-fen="r1bqkb1r/pppp1ppp/2n2n2/4p3/2B1P3/5N2/PPPP1PPP/RNBQK2R w KQkq - 4 4"
              >
                Italian Game
              </button>
              <button
                class="preset-btn"
                data-fen="rnbqkbnr/pp1ppppp/8/2p5/4P3/8/PPPP1PPP/RNBQKBNR w KQkq c6 0 2"
              >
                Sicilian
              </button>
              <button
                class="preset-btn"
                data-fen="r1bqkbnr/pppp1ppp/2n5/4p3/4P3/5N2/PPPP1PPP/RNBQKB1R w KQkq - 2 3"
              >
                Ruy Lopez
              </button>
            </div>
          </div>
        </div>

        <!-- Tab Content: Puzzles -->
        <div class="tab-content" id="tab-puzzles" role="tabpanel">
          <div class="puzzle-section" id="puzzle-panel">
            <div class="puzzle-header">
              <div class="section-label">Chess Puzzles</div>
              <div class="puzzle-rating" id="puzzle-rating">Rating: 1200</div>
            </div>
            <div class="puzzle-description" id="puzzle-description">
              Load a puzzle to begin
            </div>
            <div class="puzzle-progress" id="puzzle-progress">
              <div class="puzzle-streak">
                Streak: <span id="puzzle-streak">0</span>
              </div>
              <div class="puzzle-solved">
                Solved: <span id="puzzle-solved">0</span>
              </div>
            </div>
            <div class="section-actions">
              <button id="btn-next-puzzle" class="tool-btn primary">
                Next Puzzle
              </button>
              <button id="btn-puzzle-hint" class="tool-btn">Hint</button>
              <button id="btn-puzzle-solution" class="tool-btn">
                Show Solution
              </button>
            </div>
          </div>
        </div>
      </aside>
    </main>

    <!-- ===== MODALS ===== -->

    <!-- New Game Modal -->
    <div
      class="modal-overlay"
      id="modal-new-game"
      role="dialog"
      aria-modal="true"
      aria-labelledby="new-game-title"
      style="display: none"
    >
      <div class="modal">
        <div class="modal-header">
          <h2 id="new-game-title">New Game</h2>
          <button
            class="modal-close"
            data-modal="modal-new-game"
            aria-label="Close"
          >
            ‚úï
          </button>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label class="form-label">Game Mode</label>
            <div class="radio-group">
              <label class="radio-option">
                <input
                  type="radio"
                  name="game-mode"
                  value="pvp"
                  checked
                  id="mode-pvp-radio"
                />
                <span>Player vs Player</span>
              </label>
              <label class="radio-option">
                <input
                  type="radio"
                  name="game-mode"
                  value="pvai"
                  id="mode-pvai-radio"
                />
                <span>Player vs AI</span>
              </label>
            </div>
          </div>
          <div class="form-group" id="ai-options" style="display: none">
            <label class="form-label">AI Difficulty</label>
            <!-- Hidden input stores the selected depth value, read by JS -->
            <input type="hidden" id="ai-difficulty" value="2" />
            <div class="ai-difficulty-grid">
              <button type="button" class="diff-btn" data-depth="1">
                <span class="diff-icon">üå±</span>
                <span class="diff-name">Beginner</span>
                <span class="diff-sub">Depth 1</span>
              </button>
              <button type="button" class="diff-btn active" data-depth="2">
                <span class="diff-icon">‚ö°</span>
                <span class="diff-name">Easy</span>
                <span class="diff-sub">Depth 2</span>
              </button>
              <button type="button" class="diff-btn" data-depth="3">
                <span class="diff-icon">üéØ</span>
                <span class="diff-name">Medium</span>
                <span class="diff-sub">Depth 3</span>
              </button>
              <button type="button" class="diff-btn" data-depth="4">
                <span class="diff-icon">üî•</span>
                <span class="diff-name">Hard</span>
                <span class="diff-sub">Depth 4</span>
              </button>
              <button type="button" class="diff-btn" data-depth="5">
                <span class="diff-icon">üíÄ</span>
                <span class="diff-name">Expert</span>
                <span class="diff-sub">Depth 5</span>
              </button>
            </div>
            <label class="form-label" style="margin-top: 12px">Play as</label>
            <div class="radio-group">
              <label class="radio-option">
                <input
                  type="radio"
                  name="player-color"
                  value="white"
                  checked
                  id="color-white-radio"
                />
                <span>‚ôî White</span>
              </label>
              <label class="radio-option">
                <input
                  type="radio"
                  name="player-color"
                  value="black"
                  id="color-black-radio"
                />
                <span>‚ôõ Black</span>
              </label>
              <label class="radio-option">
                <input
                  type="radio"
                  name="player-color"
                  value="random"
                  id="color-random-radio"
                />
                <span>üé≤ Random</span>
              </label>
            </div>
          </div>
          <div class="form-group">
            <label class="form-label">Time Control</label>
            <div class="time-presets">
              <button class="time-preset-btn" data-time="60" data-inc="0">
                Bullet 1+0
              </button>
              <button class="time-preset-btn" data-time="120" data-inc="1">
                Bullet 2+1
              </button>
              <button class="time-preset-btn" data-time="300" data-inc="0">
                Blitz 5+0
              </button>
              <button class="time-preset-btn" data-time="300" data-inc="3">
                Blitz 5+3
              </button>
              <button
                class="time-preset-btn active"
                data-time="600"
                data-inc="0"
              >
                Rapid 10+0
              </button>
              <button class="time-preset-btn" data-time="900" data-inc="10">
                Rapid 15+10
              </button>
              <button class="time-preset-btn" data-time="1800" data-inc="0">
                Classical 30+0
              </button>
              <button class="time-preset-btn" data-time="0" data-inc="0">
                No Timer
              </button>
            </div>
            <div class="custom-time-row">
              <div class="custom-time-field">
                <label for="custom-time-min">Minutes</label>
                <input
                  type="number"
                  id="custom-time-min"
                  class="form-input"
                  value="10"
                  min="0"
                  max="180"
                />
              </div>
              <div class="custom-time-field">
                <label for="custom-time-inc">Increment (sec)</label>
                <input
                  type="number"
                  id="custom-time-inc"
                  class="form-input"
                  value="0"
                  min="0"
                  max="60"
                />
              </div>
            </div>
          </div>
          <div class="form-group">
            <label class="form-label" for="player-white-name-input"
              >White Name</label
            >
            <input
              id="player-white-name-input"
              class="form-input"
              type="text"
              value="White"
            />
          </div>
          <div class="form-group">
            <label class="form-label" for="player-black-name-input"
              >Black Name</label
            >
            <input
              id="player-black-name-input"
              class="form-input"
              type="text"
              value="Black"
            />
          </div>
        </div>
        <div class="modal-footer">
          <button class="modal-btn" data-modal="modal-new-game">Cancel</button>
          <button class="modal-btn primary" id="btn-start-game">
            Start Game
          </button>
        </div>
      </div>
    </div>

    <!-- Promotion Modal -->
    <div
      class="modal-overlay"
      id="modal-promotion"
      role="dialog"
      aria-modal="true"
      aria-labelledby="promo-title"
      style="display: none"
    >
      <div class="modal modal-small">
        <div class="modal-header">
          <h2 id="promo-title">Pawn Promotion</h2>
        </div>
        <div class="modal-body">
          <p class="promo-desc">Choose a piece to promote your pawn:</p>
          <div class="promo-choices" id="promo-choices">
            <button
              class="promo-btn"
              data-piece="q"
              id="promo-queen"
              aria-label="Promote to Queen"
            >
              ‚ôõ<span>Queen</span>
            </button>
            <button
              class="promo-btn"
              data-piece="r"
              id="promo-rook"
              aria-label="Promote to Rook"
            >
              ‚ôú<span>Rook</span>
            </button>
            <button
              class="promo-btn"
              data-piece="b"
              id="promo-bishop"
              aria-label="Promote to Bishop"
            >
              ‚ôù<span>Bishop</span>
            </button>
            <button
              class="promo-btn"
              data-piece="n"
              id="promo-knight"
              aria-label="Promote to Knight"
            >
              ‚ôû<span>Knight</span>
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Game Over Modal -->
    <div
      class="modal-overlay"
      id="modal-game-over"
      role="dialog"
      aria-modal="true"
      aria-labelledby="gameover-title"
      style="display: none"
    >
      <div class="modal modal-small">
        <div class="modal-header">
          <h2 id="gameover-title">Game Over</h2>
        </div>
        <div class="modal-body">
          <div class="gameover-result" id="gameover-icon">‚ôî</div>
          <div class="gameover-message" id="gameover-message">White wins!</div>
          <div class="gameover-reason" id="gameover-reason">by checkmate</div>
          <div class="gameover-stats" id="gameover-stats"></div>
        </div>
        <div class="modal-footer">
          <button class="modal-btn" id="btn-review-game">Review Game</button>
          <button class="modal-btn primary" id="btn-new-game-after">
            New Game
          </button>
        </div>
      </div>
    </div>

    <!-- Settings Modal -->
    <div
      class="modal-overlay"
      id="modal-settings"
      role="dialog"
      aria-modal="true"
      aria-labelledby="settings-title"
      style="display: none"
    >
      <div class="modal">
        <div class="modal-header">
          <h2 id="settings-title">Settings</h2>
          <button
            class="modal-close"
            data-modal="modal-settings"
            aria-label="Close"
          >
            ‚úï
          </button>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label class="form-label">App Theme</label>
            <div class="theme-options" id="app-theme-options">
              <button class="theme-opt active" data-app-theme="theme-dark">
                ‚òÄ Classic
              </button>
              <button class="theme-opt" data-app-theme="theme-monochrome" style="background:linear-gradient(135deg,#2e2e2e,#1a1a1a);border-color:#555;color:#eee;">
                ‚óë Monochrome
              </button>
              <button class="theme-opt" data-app-theme="theme-liquid-glass" style="background:linear-gradient(135deg,rgba(160,140,255,0.30),rgba(80,200,255,0.25));border-color:rgba(255,255,255,0.35);">
                ‚ú¶ Liquid Glass
              </button>
            </div>
          </div>
          <div class="form-group">
            <label class="form-label">Board Theme</label>
            <div class="theme-options" id="board-theme-options">
              <button class="theme-opt active" data-board-theme="board-theme-classic">
                Classic
              </button>
              <button class="theme-opt" data-board-theme="board-theme-monochrome" style="background:linear-gradient(135deg,#d8d8d8 50%,#3a3a3a 50%);border-color:#888;color:#111;">
                ‚óë Mono
              </button>
              <button class="theme-opt" data-board-theme="board-theme-liquid-glass" style="background:linear-gradient(135deg,rgba(255,255,255,0.16),rgba(100,80,200,0.22));border-color:rgba(255,255,255,0.32);">
                ‚ú¶ Liquid Glass
              </button>
            </div>
          </div>
          <div class="form-group">
            <label class="form-label">Piece Theme</label>
            <div class="theme-options" id="piece-theme-options">
              <button
                class="theme-opt"
                data-piece-theme="piece-theme-standard"
              >
                Standard
              </button>
              <button class="theme-opt" data-piece-theme="piece-theme-unicode">
                Unicode
              </button>
              <button class="theme-opt" data-piece-theme="piece-theme-simple">
                Simple
              </button>
              <button class="theme-opt active" data-piece-theme="piece-theme-monochrome" style="background:linear-gradient(135deg,#eee 50%,#222 50%);border-color:#888;">
                ‚óë Mono
              </button>
            </div>
          </div>
          <div class="form-group">
            <label class="form-label">Display Options</label>
            <div class="toggle-list">
              <label class="toggle-item">
                <span>Show coordinates</span>
                <input type="checkbox" id="opt-coordinates" checked />
                <span class="toggle"></span>
              </label>
              <label class="toggle-item">
                <span>Highlight legal moves</span>
                <input type="checkbox" id="opt-highlight-moves" checked />
                <span class="toggle"></span>
              </label>
              <label class="toggle-item">
                <span>Highlight last move</span>
                <input type="checkbox" id="opt-highlight-last" checked />
                <span class="toggle"></span>
              </label>
              <label class="toggle-item">
                <span>Animate moves</span>
                <input type="checkbox" id="opt-animate" checked />
                <span class="toggle"></span>
              </label>
              <label class="toggle-item">
                <span>Sound effects</span>
                <input type="checkbox" id="opt-sound" checked />
                <span class="toggle"></span>
              </label>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button class="modal-btn primary" data-modal="modal-settings">
            Save & Close
          </button>
        </div>
      </div>
    </div>

    <!-- Statistics Modal -->
    <div
      class="modal-overlay"
      id="modal-stats"
      role="dialog"
      aria-modal="true"
      aria-labelledby="stats-title"
      style="display: none"
    >
      <div class="modal">
        <div class="modal-header">
          <h2 id="stats-title">Statistics</h2>
          <button
            class="modal-close"
            data-modal="modal-stats"
            aria-label="Close"
          >
            ‚úï
          </button>
        </div>
        <div class="modal-body">
          <div class="stats-grid" id="stats-grid">
            <!-- Filled by JS -->
          </div>
          <div class="stats-history" id="stats-history">
            <h3>Recent Games</h3>
            <div class="history-list" id="history-list"></div>
          </div>
          <div class="section-actions" style="margin-top: 16px">
            <button id="btn-clear-stats" class="tool-btn danger">
              Clear Statistics
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Toast Notification -->
    <div
      class="toast-container"
      id="toast-container"
      role="alert"
      aria-live="assertive"
    ></div>

    <!-- Scripts -->
    <script src="scripts/engine.js"></script>
    <script src="scripts/ai.js"></script>
    <script src="scripts/timer.js"></script>
    <script src="scripts/pgn.js"></script>
    <script src="scripts/fen.js"></script>
    <script src="scripts/storage.js"></script>
    <script src="scripts/puzzle.js"></script>
    <script src="scripts/analysis.js"></script>
    <script src="scripts/board.js"></script>
    <script src="scripts/ui.js"></script>
    <script src="scripts/main.js"></script>
    <script src="scripts/mobile.js"></script>
  </body>
</html>
